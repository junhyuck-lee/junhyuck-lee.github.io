<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elliott Wave â€” ì‹¬í”Œ í¬ë¦½í†  ë¶„ì„</title>
  <meta name="description" content="BTC/ETH/SOL ì‹¬í”Œ ì°¨íŠ¸ì™€ ë©”ëª¨ë¡œ ê´€ë¦¬í•˜ëŠ” ê°€ìƒí™”í ë¶„ì„ í˜ì´ì§€" />
  <style>
    :root { --bg:#0b0f14; --card:#121821; --txt:#e8eef6; --muted:#8aa0b2; --accent:#3aa0ff; }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:var(--txt);font-family:system-ui,-apple-system,Segoe UI,Roboto,Apple SD Gothic Neo,Noto Sans KR,sans-serif}
    header{padding:16px 20px;border-bottom:1px solid #1f2a36;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .logo{font-weight:800;font-size:18px}
    .pill{background:#0f1520;border:1px solid #203041;color:var(--muted);padding:6px 10px;border-radius:999px}
    .wrap{max-width:1100px;margin:0 auto;padding:16px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tab{cursor:pointer;padding:8px 12px;border-radius:10px;background:#0f1520;border:1px solid #203041;color:var(--muted)}
    .tab.active{color:#fff;border-color:var(--accent);box-shadow:0 0 0 1px #1b3a55 inset}
    .grid{display:grid;grid-template-columns:1.5fr 1fr;gap:12px;margin-top:12px}
    @media (max-width:900px){.grid{grid-template-columns:1fr}}
    .card{background:var(--card);border:1px solid #1f2a36;border-radius:14px;overflow:hidden}
    .card h3{margin:0;padding:12px 14px;border-bottom:1px solid #1f2a36;font-size:14px;color:#bcd0df}
    .pad{padding:12px}
    textarea{width:100%;min-height:220px;background:#0f1520;border:1px solid #203041;border-radius:10px;color:var(--txt);padding:10px;font:inherit;resize:vertical}
    .row{display:flex;gap:8px;align-items:center;justify-content:space-between}
    .btn{cursor:pointer;background:#0f1520;border:1px solid #203041;color:#cfe6ff;padding:8px 12px;border-radius:10px}
    .btn:hover{border-color:#2b4b67}
    footer{opacity:.7;text-align:center;padding:18px;font-size:12px}
    .note{color:var(--muted);font-size:12px}
  </style>
</head>
<body>
  <header>
    <div class="logo">ğŸ“ˆ Elliott Wave</div>
    <div class="pill">ì‹¬í”Œ í¬ë¦½í†  ë¶„ì„</div>
  </header>

  <!-- ìƒë‹¨ í‹°ì»¤ (ì„ íƒ ì‚¬í•­: í•„ìš” ì—†ìœ¼ë©´ ì´ ì „ì²´ ì„¹ì…˜ ì‚­ì œ) -->
  <div class="wrap">
    <div class="card">
      <div class="pad" style="padding:0">
        <div class="tradingview-widget-container">
          <div class="tradingview-widget-container__widget" id="ticker-tape"></div>
        </div>
      </div>
    </div>

    <!-- ì‹¬ë³¼ íƒ­ -->
    <div class="row" style="margin-top:12px">
      <div class="tabs" id="symbol-tabs">
        <div class="tab active" data-symbol="BINANCE:BTCUSDT">BTC</div>
        <div class="tab" data-symbol="BINANCE:ETHUSDT">ETH</div>
        <div class="tab" data-symbol="BINANCE:SOLUSDT">SOL</div>
      </div>
      <div class="note">íƒ­ì„ ëˆŒëŸ¬ ì‹¬ë³¼ì„ ë°”ê¾¸ì„¸ìš” Â· BINANCE ì„ í˜¸(ìŠ¤íŒŸ/USDT)</div>
    </div>

    <!-- ì°¨íŠ¸ + ë©”ëª¨ -->
    <div class="grid">
      <div class="card">
        <h3 id="chart-title">ì°¨íŠ¸ Â· BTCUSDT</h3>
        <div id="tv-chart" style="height:520px"></div>
      </div>

      <div class="card">
        <h3>ë‚˜ì˜ ë¶„ì„ ë©”ëª¨</h3>
        <div class="pad">
          <div class="row" style="margin-bottom:8px">
            <span class="note">ì—˜ë¦¬ì—‡ íŒŒë™ ì¹´ìš´íŠ¸, ì§€ì§€/ì €í•­, ëª©í‘œê°€, ë¬´íš¨í™” ë ˆë²¨ ë“±ì„ ì ì–´ë‘ì„¸ìš”.</span>
            <button class="btn" id="save-btn">ì €ì¥</button>
          </div>
          <textarea id="notes" placeholder="- íŒŒë™: (1)-(2)-(3)-(4)-(5) í›„ë³´
- ì¡°ì •: A-B-C ì‹œë‚˜ë¦¬ì˜¤
- ì§€ì§€: 63.2k / 60.8k, ì €í•­: 68.5k
- ë¬´íš¨í™”: 59.9k í•˜í–¥ ì´íƒˆ ì‹œ
"></textarea>
          <div class="row" style="margin-top:8px">
            <span class="note">ì‹¬ë³¼ë§ˆë‹¤ ìë™ ì €ì¥ë©ë‹ˆë‹¤ (ë¡œì»¬ ì €ì¥, ë¸Œë¼ìš°ì €ì—ë§Œ ë³´ê´€).</span>
            <button class="btn" id="clear-btn">í˜„ì¬ ì‹¬ë³¼ ë©”ëª¨ ì´ˆê¸°í™”</button>
          </div>
        </div>
      </div>
    </div>

    <!-- ê°„ë‹¨ ì²´í¬ë¦¬ìŠ¤íŠ¸ -->
    <div class="card" style="margin-top:12px">
      <h3>ì²´í¬ë¦¬ìŠ¤íŠ¸</h3>
      <div class="pad">
        <ul>
          <li>ìƒìœ„ íƒ€ì„í”„ë ˆì„ ì¶”ì„¸(ì£¼/ì¼) â†’ í•˜ìœ„ íƒ€ì„í”„ë ˆì„(4H/1H) ì •í•©ì„± í™•ì¸</li>
          <li>íŒŒë™ êµ¬ì¡° ì¶©ëŒ ì—¬ë¶€(í™•ì¥/ë‹¨ì¶•, ê²¹ì¹¨ íŒë‹¨)</li>
          <li>ê±°ë˜ëŸ‰/ëª¨ë©˜í…€(ë‹¤ì´ë²„ì „ìŠ¤) í™•ì¸</li>
          <li>ë¦¬ìŠ¤í¬ í•œë„ì™€ ë¬´íš¨í™” ë ˆë²¨ ëª…í™•í™”</li>
        </ul>
      </div>
    </div>

    <footer>Â© <span id="y"></span> Elliott Wave Â· ê°œì¸ í•™ìŠµ/ì—°êµ¬ìš©</footer>
  </div>

  <!-- TradingView ìŠ¤í¬ë¦½íŠ¸ -->
  <script src="https://s3.tradingview.com/tv.js"></script>
  <script>
    // ì—°ë„ í‘œê¸°
    document.getElementById('y').textContent = new Date().getFullYear();

    // ìƒë‹¨ í‹°ì»¤
    new TradingView.widget({
      "container_id": "ticker-tape",
      "width": "100%",
      "height": 46,
      "symbols": [
        {"proName": "BINANCE:BTCUSDT", "title": "BTC/USDT"},
        {"proName": "BINANCE:ETHUSDT", "title": "ETH/USDT"},
        {"proName": "BINANCE:SOLUSDT", "title": "SOL/USDT"},
        {"proName": "BINANCE:XRPUSDT", "title": "XRP/USDT"},
        {"proName": "BINANCE:SUIUSDT", "title": "SUI/USDT"}
      ],
      "colorTheme": "dark",
      "isTransparent": true,
      "displayMode": "adaptive",
      "locale": "kr"
    });

    // ì°¨íŠ¸ ìœ„ì ¯ ìƒì„± í•¨ìˆ˜
    let tvWidget = null;
    function loadChart(symbol) {
      // íƒ€ì´í‹€ ì—…ë°ì´íŠ¸
      const title = document.getElementById('chart-title');
      title.textContent = 'ì°¨íŠ¸ Â· ' + symbol.split(':')[1];

      // ì»¨í…Œì´ë„ˆ ë¹„ìš°ê³  ë‹¤ì‹œ ìƒì„±
      const container = document.getElementById('tv-chart');
      container.innerHTML = '';
      tvWidget = new TradingView.widget({
        "container_id": "tv-chart",
        "autosize": true,
        "symbol": symbol,
        "interval": "60",
        "timezone": "Asia/Seoul",
        "theme": "dark",
        "style": "1",
        "locale": "kr",
        "toolbar_bg": "#0b0f14",
        "enable_publishing": false,
        "withdateranges": true,
        "allow_symbol_change": false,
        "studies": [
          "STD;Relative Strength Index",
          "STD;Moving Average",
          "STD;Moving Average@tv-basicstudies-2"
        ],
        "details": true,
        "hotlist": false,
        "calendar": false
      });

      // ë©”ëª¨ ë¡œë“œ
      const key = 'notes:' + symbol;
      document.getElementById('notes').value = localStorage.getItem(key) || '';
      document.getElementById('save-btn').onclick = () => {
        localStorage.setItem(key, document.getElementById('notes').value || '');
        alert('ì €ì¥ ì™„ë£Œ');
      };
      document.getElementById('clear-btn').onclick = () => {
        if (confirm('í˜„ì¬ ì‹¬ë³¼ ë©”ëª¨ë¥¼ ë¹„ìš¸ê¹Œìš”?')) {
          localStorage.removeItem(key);
          document.getElementById('notes').value = '';
        }
      };
    }

    // íƒ­ í´ë¦­ ì²˜ë¦¬
    const tabs = document.getElementById('symbol-tabs');
    tabs.addEventListener('click', (e) => {
      const el = e.target.closest('.tab');
      if (!el) return;
      [...tabs.children].forEach(t => t.classList.remove('active'));
      el.classList.add('active');
      loadChart(el.dataset.symbol);
    });

    // ì´ˆê¸° ë¡œë“œ (BTC)
    loadChart('BINANCE:BTCUSDT');
  </script>
</body>
</html>
